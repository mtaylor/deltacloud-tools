package org.jboss.deltacloud.client;

import org.apache.http.HttpEntity;
import org.apache.http.HttpResponse;
import org.apache.http.auth.AuthScope;
import org.apache.http.auth.UsernamePasswordCredentials;
import org.apache.http.client.methods.HttpGet;
import org.apache.http.impl.client.DefaultHttpClient;

public class RESTClient 
{
	public static void main(String[] args) throws Exception
	{
		String username = "WKy3rMzOWPouVOxK1p3Ar1C2uRBwa2FBXnCw";
		String password = "2ILf2maXgZu12KbamJoUgsajBzXeQOyeYHybWg";
		String scope = "localhost";
		int port = 3003;

        DefaultHttpClient httpclient = new DefaultHttpClient();

        httpclient.getCredentialsProvider().setCredentials(new AuthScope(scope, port), new UsernamePasswordCredentials(username, password));
        
        HttpGet httpget = new HttpGet("http://localhost:3003/api/flavors");
        
        System.out.println("executing request" + httpget.getRequestLine());
        
        
        HttpResponse response = httpclient.execute(httpget);
        HttpEntity entity = response.getEntity();

        System.out.println("----------------------------------------");
        System.out.println(response.getStatusLine());
        if (entity != null) {
            System.out.println("Response content length: " + entity.getContentLength());
        }
        if (entity != null) {
            entity.consumeContent();
        }

        httpclient.getConnectionManager().shutdown();        

	}
}
